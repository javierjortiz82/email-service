# ==============================================================================
# EMAIL SERVICE - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and configure the values for your environment.
# All variables have sensible defaults except for SMTP credentials.
# ==============================================================================

# ==============================================================================
# SERVICE CONFIGURATION
# ==============================================================================
# Service name (displayed in logs and health endpoint)
SERVICE_NAME=email-service

# Service version
SERVICE_VERSION=2.0.0

# API server host
API_HOST=0.0.0.0

# API server port
API_PORT=8001

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
# API key for authentication (leave empty to disable authentication)
# Clients must send this key in the X-API-Key header
API_KEY=

# Rate limiting - maximum requests per minute per client
RATE_LIMIT_PER_MINUTE=60

# Rate limiting - maximum requests per second per client
RATE_LIMIT_PER_SECOND=10

# ==============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ==============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://mcp_user:mcp_password@localhost:5434/mcpdb

# PostgreSQL schema name for email_queue table
SCHEMA_NAME=test

# ==============================================================================
# SMTP CONFIGURATION (REQUIRED)
# ==============================================================================
# SMTP server hostname (gmail, sendgrid, aws ses, etc.)
SMTP_HOST=smtp.gmail.com

# SMTP server port (587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# SMTP authentication username (your email address for Gmail)
# REQUIRED - Set this value
SMTP_USER=your-email@gmail.com

# SMTP authentication password (app-specific password for Gmail)
# REQUIRED - Set this value
# Note: For Gmail, create an App Password at https://myaccount.google.com/apppasswords
SMTP_PASSWORD=your-app-password

# Sender email address (appears in "From" field)
SMTP_FROM_EMAIL=noreply@odiseo.io

# Sender display name (appears before email address)
SMTP_FROM_NAME=Odiseo

# Whether to use TLS encryption (true/false)
SMTP_USE_TLS=true

# SMTP connection timeout in seconds (5-300)
SMTP_TIMEOUT=30

# ==============================================================================
# EMAIL WORKER CONFIGURATION
# ==============================================================================
# Seconds between queue polls (1-3600)
EMAIL_WORKER_POLL_INTERVAL=10

# Maximum emails to process per batch (1-1000)
EMAIL_WORKER_BATCH_SIZE=50

# Maximum retry attempts for failed emails (1-10)
EMAIL_RETRY_MAX_ATTEMPTS=3

# Initial backoff duration in seconds for retries (60-86400)
EMAIL_RETRY_BACKOFF_SECONDS=300

# Maximum concurrent email sends per batch (1-20)
EMAIL_WORKER_CONCURRENCY=5

# ==============================================================================
# DATABASE POOL CONFIGURATION
# ==============================================================================
# Minimum connections in pool (1-20)
DB_POOL_SIZE_MIN=1

# Maximum connections in pool (1-50)
DB_POOL_SIZE_MAX=10

# ==============================================================================
# REMINDER CONFIGURATION
# ==============================================================================
# Enable 24-hour appointment reminders (true/false)
REMINDER_24H_ENABLED=true

# Enable 1-hour appointment reminders (true/false)
REMINDER_1H_ENABLED=true

# Subject line for 24-hour reminder emails
REMINDER_24H_SUBJECT=Recordatorio: Cita manana

# Subject line for 1-hour reminder emails
REMINDER_1H_SUBJECT=Recordatorio: Cita en 1 hora

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Whether to log to file (true/false)
LOG_TO_FILE=true

# Directory for log files
LOG_DIR=./logs

# Maximum log file size in megabytes
LOG_MAX_SIZE_MB=10

# Number of backup log files to keep
LOG_BACKUP_COUNT=5

# ==============================================================================
# TEMPLATE CONFIGURATION
# ==============================================================================
# Directory containing Jinja2 email templates (relative or absolute path)
# Default: ./templates (relative to project root)
# TEMPLATE_DIR=./templates
